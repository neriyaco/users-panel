{
    "sourceFile": "src/components/UsersTable.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 22,
            "patches": [
                {
                    "date": 1679985798632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1679986047384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     const api = useApi();\n \n     useEffect(() => {\n         api.get('?results=10').then((response) => {\n-            dispatch(setUsers(response.data.results.map((user: User) => createUser(user))));\n+            dispatch(setUsers(response.data.results.map((user: any) => createUser({ ...user, id: user.login.uuid }))));\n         });\n     }, [api, dispatch]);\n \n     const address = (location: UserLocation) => {\n@@ -84,9 +84,9 @@\n                     justifyContent: 'center',\n                 }}\n             >\n                 <Fade in={modalOpen}>\n-                    <Paper elevation={8} sx={{padding: '2em'}}>\n+                    <Paper elevation={8} sx={{ padding: '2em' }}>\n                         <UserEdit user={selectedUser!} />\n                     </Paper>\n                 </Fade>\n             </Modal>\n"
                },
                {
                    "date": 1679986095238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n     IconButton,\n     Modal,\n     Paper,\n     Fade,\n+    Toolbar,\n } from '@mui/material';\n import { Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n@@ -45,8 +46,13 @@\n     }\n \n     return (\n         <>\n+            <Toolbar>\n+                <IconButton onClick={() => handleEdit(createUser())}>\n+                    <Edit />\n+                </IconButton>\n+            </Toolbar>\n             <Table>\n                 <TableHead>\n                     <TableRow>\n                         <TableCell>First Name</TableCell>\n"
                },
                {
                    "date": 1679986162539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,19 +37,21 @@\n         const { street, city, country } = location;\n         return `${street.number} ${street.name}, ${city}, ${country}`;\n     }\n \n-    const handleEdit = (user: User) => {\n+    const handleEdit = (user?: User) => {\n         if (user) {\n             setSelectedUser(user);\n             setModalOpen(true);\n+        } else {\n+            setModalOpen(true);\n         }\n     }\n \n     return (\n         <>\n             <Toolbar>\n-                <IconButton onClick={() => handleEdit(createUser())}>\n+                <IconButton onClick={() => handleEdit()}>\n                     <Edit />\n                 </IconButton>\n             </Toolbar>\n             <Table>\n"
                },
                {
                    "date": 1679986174819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,8 +42,9 @@\n         if (user) {\n             setSelectedUser(user);\n             setModalOpen(true);\n         } else {\n+            setSelectedUser(null);\n             setModalOpen(true);\n         }\n     }\n \n"
                },
                {
                    "date": 1679986520912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,9 @@\n                 }}\n             >\n                 <Fade in={modalOpen}>\n                     <Paper elevation={8} sx={{ padding: '2em' }}>\n-                        <UserEdit user={selectedUser!} />\n+                        {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n                     </Paper>\n                 </Fade>\n             </Modal>\n         </>\n"
                },
                {
                    "date": 1679986543193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,9 @@\n                 }}\n             >\n                 <Fade in={modalOpen}>\n                     <Paper elevation={8} sx={{ padding: '2em' }}>\n-                        {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n+                        <UserEdit user={selectedUser!} />\n                     </Paper>\n                 </Fade>\n             </Modal>\n         </>\n"
                },
                {
                    "date": 1679986574029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,9 @@\n                 }}\n             >\n                 <Fade in={modalOpen}>\n                     <Paper elevation={8} sx={{ padding: '2em' }}>\n-                        <UserEdit user={selectedUser!} />\n+                        {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n                     </Paper>\n                 </Fade>\n             </Modal>\n         </>\n"
                },
                {
                    "date": 1679989843337,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n import { Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n import useApi from \"@/features/api/use-api\";\n-import { setUsers } from \"@/features/users/state\";\n+import { set } from \"@/features/users/state\";\n import UserEdit from \"./UserEdit\";\n \n export default function UsersTable() {\n     const [modalOpen, setModalOpen] = useState(false);\n@@ -28,9 +28,9 @@\n     const api = useApi();\n \n     useEffect(() => {\n         api.get('?results=10').then((response) => {\n-            dispatch(setUsers(response.data.results.map((user: any) => createUser({ ...user, id: user.login.uuid }))));\n+            dispatch(set(response.data.results.map((user: any) => createUser({ ...user, id: user.login.uuid }))));\n         });\n     }, [api, dispatch]);\n \n     const address = (location: UserLocation) => {\n"
                },
                {
                    "date": 1679989921903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n import { Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n import useApi from \"@/features/api/use-api\";\n-import { set } from \"@/features/users/state\";\n+import { setUsers } from \"@/features/users/state\";\n import UserEdit from \"./UserEdit\";\n \n export default function UsersTable() {\n     const [modalOpen, setModalOpen] = useState(false);\n"
                },
                {
                    "date": 1679989930120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n     const api = useApi();\n \n     useEffect(() => {\n         api.get('?results=10').then((response) => {\n-            dispatch(set(response.data.results.map((user: any) => createUser({ ...user, id: user.login.uuid }))));\n+            dispatch(setUsers(response.data.results.map((user: any) => createUser({ ...user, id: user.login.uuid }))));\n         });\n     }, [api, dispatch]);\n \n     const address = (location: UserLocation) => {\n"
                },
                {
                    "date": 1679990025651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n import { Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n import useApi from \"@/features/api/use-api\";\n-import { setUsers } from \"@/features/users/state\";\n+import { setUsers, deleteUser } from \"@/features/users/state\";\n import UserEdit from \"./UserEdit\";\n \n export default function UsersTable() {\n     const [modalOpen, setModalOpen] = useState(false);\n@@ -47,8 +47,12 @@\n             setModalOpen(true);\n         }\n     }\n \n+    const handleDelete = (user: User) => {\n+        dispatch(deleteUser(user.id));\n+    }\n+\n     return (\n         <>\n             <Toolbar>\n                 <IconButton onClick={() => handleEdit()}>\n"
                },
                {
                    "date": 1679990078664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,8 +48,10 @@\n         }\n     }\n \n     const handleDelete = (user: User) => {\n+        // modal\n+\n         dispatch(deleteUser(user.id));\n     }\n \n     return (\n@@ -79,9 +81,9 @@\n                             <TableCell>\n                                 <IconButton onClick={() => handleEdit(user)}>\n                                     <Edit />\n                                 </IconButton>\n-                                <IconButton color=\"error\">\n+                                <IconButton color=\"error\" onClick={() => handleDelete(user)}>\n                                     <Delete />\n                                 </IconButton>\n                             </TableCell>\n                         </TableRow>\n"
                },
                {
                    "date": 1679990189716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,9 @@\n     Modal,\n     Paper,\n     Fade,\n     Toolbar,\n+    Dialog,\n } from '@mui/material';\n import { Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n@@ -104,7 +105,10 @@\n                         {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n                     </Paper>\n                 </Fade>\n             </Modal>\n+            <Dialog>\n+                \n+            </Dialog>\n         </>\n     )\n }\n"
                },
                {
                    "date": 1679990236630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,10 +19,11 @@\n import { setUsers, deleteUser } from \"@/features/users/state\";\n import UserEdit from \"./UserEdit\";\n \n export default function UsersTable() {\n-    const [modalOpen, setModalOpen] = useState(false);\n+    const [editModalOpen, setEditModalOpen] = useState(false);\n     const [selectedUser, setSelectedUser] = useState<User | null>(null);\n+    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n \n     const users = useAppSelector((state) => state.users);\n     const dispatch = useAppDispatch();\n \n@@ -41,12 +42,12 @@\n \n     const handleEdit = (user?: User) => {\n         if (user) {\n             setSelectedUser(user);\n-            setModalOpen(true);\n+            setEditModalOpen(true);\n         } else {\n             setSelectedUser(null);\n-            setModalOpen(true);\n+            setEditModalOpen(true);\n         }\n     }\n \n     const handleDelete = (user: User) => {\n@@ -90,24 +91,24 @@\n                         </TableRow>\n                     ))}\n                 </TableBody>\n             </Table>\n-            <Modal open={modalOpen} onClose={() => setModalOpen(false)}\n+            <Modal open={editModalOpen} onClose={() => setEditModalOpen(false)}\n                 aria-labelledby=\"modal-modal-title\"\n                 aria-describedby=\"modal-modal-description\"\n                 sx={{\n                     display: 'flex',\n                     alignItems: 'center',\n                     justifyContent: 'center',\n                 }}\n             >\n-                <Fade in={modalOpen}>\n+                <Fade in={editModalOpen}>\n                     <Paper elevation={8} sx={{ padding: '2em' }}>\n                         {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n                     </Paper>\n                 </Fade>\n             </Modal>\n-            <Dialog>\n+            <Dialog open={true}>\n                 \n             </Dialog>\n         </>\n     )\n"
                },
                {
                    "date": 1679990333144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,13 @@\n     Paper,\n     Fade,\n     Toolbar,\n     Dialog,\n+    Button,\n+    DialogActions,\n+    DialogContent,\n+    DialogContentText,\n+    DialogTitle,\n } from '@mui/material';\n import { Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n@@ -50,11 +55,17 @@\n         }\n     }\n \n     const handleDelete = (user: User) => {\n-        // modal\n+        setSelectedUser(user);\n+        setDeleteDialogOpen(true);\n+    }\n \n-        dispatch(deleteUser(user.id));\n+    const handleDeleteConfirm = () => {\n+        if (selectedUser) {\n+            dispatch(deleteUser(selectedUser.id));\n+        }\n+        setDeleteDialogOpen(false);\n     }\n \n     return (\n         <>\n@@ -106,10 +117,19 @@\n                         {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n                     </Paper>\n                 </Fade>\n             </Modal>\n-            <Dialog open={true}>\n-                \n+            <Dialog open={deleteDialogOpen}>\n+                <DialogTitle>Delete User</DialogTitle>\n+                <DialogContent>\n+                    <DialogContentText>\n+                        Are you sure you want to delete this user?\n+                    </DialogContentText>\n+                </DialogContent>\n+                <DialogActions>\n+                    <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\n+                    <Button onClick={handleDeleteConfirm} color=\"error\">Delete</Button>\n+                </DialogActions>\n             </Dialog>\n         </>\n     )\n }\n"
                },
                {
                    "date": 1679990369690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n     DialogContent,\n     DialogContentText,\n     DialogTitle,\n } from '@mui/material';\n-import { Delete, Edit } from '@mui/icons-material';\n+import { Add, Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n import useApi from \"@/features/api/use-api\";\n import { setUsers, deleteUser } from \"@/features/users/state\";\n@@ -70,9 +70,9 @@\n     return (\n         <>\n             <Toolbar>\n                 <IconButton onClick={() => handleEdit()}>\n-                    <Edit />\n+                    <Add />\n                 </IconButton>\n             </Toolbar>\n             <Table>\n                 <TableHead>\n"
                },
                {
                    "date": 1679990379820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     return (\n         <>\n             <Toolbar>\n                 <IconButton onClick={() => handleEdit()}>\n-                    <Add />\n+                    <Add /> Add User\n                 </IconButton>\n             </Toolbar>\n             <Table>\n                 <TableHead>\n"
                },
                {
                    "date": 1679990390511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,11 +69,11 @@\n \n     return (\n         <>\n             <Toolbar>\n-                <IconButton onClick={() => handleEdit()}>\n+                <Button onClick={() => handleEdit()}>\n                     <Add /> Add User\n-                </IconButton>\n+                </Button>\n             </Toolbar>\n             <Table>\n                 <TableHead>\n                     <TableRow>\n"
                },
                {
                    "date": 1679990423717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n     }\n \n     return (\n         <>\n-            <Toolbar>\n+            <Toolbar sx={{textAlign: 'end'}}>\n                 <Button onClick={() => handleEdit()}>\n                     <Add /> Add User\n                 </Button>\n             </Toolbar>\n"
                },
                {
                    "date": 1679990447346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,9 @@\n     DialogActions,\n     DialogContent,\n     DialogContentText,\n     DialogTitle,\n+    Box,\n } from '@mui/material';\n import { Add, Delete, Edit } from '@mui/icons-material';\n import { User, UserLocation, createUser } from \"@/types/user\";\n import { useEffect, useState } from \"react\";\n@@ -68,12 +69,14 @@\n     }\n \n     return (\n         <>\n-            <Toolbar sx={{textAlign: 'end'}}>\n-                <Button onClick={() => handleEdit()}>\n-                    <Add /> Add User\n-                </Button>\n+            <Toolbar>\n+                <Box sx={{ flexGrow: 1 }}>\n+                    <Button onClick={() => handleEdit()}>\n+                        <Add /> Add User\n+                    </Button>\n+                </Box>\n             </Toolbar>\n             <Table>\n                 <TableHead>\n                     <TableRow>\n"
                },
                {
                    "date": 1679990456520,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n \n     return (\n         <>\n             <Toolbar>\n-                <Box sx={{ flexGrow: 1 }}>\n+                <Box sx={{ flexGrow: 1, textAlign: 'end' }}>\n                     <Button onClick={() => handleEdit()}>\n                         <Add /> Add User\n                     </Button>\n                 </Box>\n"
                },
                {
                    "date": 1679990945137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,12 @@\n         }\n         setDeleteDialogOpen(false);\n     }\n \n+    const handleCloseModal = () => {\n+        setEditModalOpen(false);\n+    }\n+\n     return (\n         <>\n             <Toolbar>\n                 <Box sx={{ flexGrow: 1, textAlign: 'end' }}>\n@@ -116,9 +120,12 @@\n                 }}\n             >\n                 <Fade in={editModalOpen}>\n                     <Paper elevation={8} sx={{ padding: '2em' }}>\n-                        {selectedUser ? <UserEdit user={selectedUser} /> : <UserEdit />}\n+                        {\n+                            selectedUser ?\n+                                <UserEdit user={selectedUser} onClose={handleCloseModal} /> :\n+                                <UserEdit onClose={handleCloseModal} />}\n                     </Paper>\n                 </Fade>\n             </Modal>\n             <Dialog open={deleteDialogOpen}>\n"
                }
            ],
            "date": 1679985798632,
            "name": "Commit-0",
            "content": "import { useAppSelector, useAppDispatch } from \"@/app/hooks\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    IconButton,\n    Modal,\n    Paper,\n    Fade,\n} from '@mui/material';\nimport { Delete, Edit } from '@mui/icons-material';\nimport { User, UserLocation, createUser } from \"@/types/user\";\nimport { useEffect, useState } from \"react\";\nimport useApi from \"@/features/api/use-api\";\nimport { setUsers } from \"@/features/users/state\";\nimport UserEdit from \"./UserEdit\";\n\nexport default function UsersTable() {\n    const [modalOpen, setModalOpen] = useState(false);\n    const [selectedUser, setSelectedUser] = useState<User | null>(null);\n\n    const users = useAppSelector((state) => state.users);\n    const dispatch = useAppDispatch();\n\n    const api = useApi();\n\n    useEffect(() => {\n        api.get('?results=10').then((response) => {\n            dispatch(setUsers(response.data.results.map((user: User) => createUser(user))));\n        });\n    }, [api, dispatch]);\n\n    const address = (location: UserLocation) => {\n        const { street, city, country } = location;\n        return `${street.number} ${street.name}, ${city}, ${country}`;\n    }\n\n    const handleEdit = (user: User) => {\n        if (user) {\n            setSelectedUser(user);\n            setModalOpen(true);\n        }\n    }\n\n    return (\n        <>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>First Name</TableCell>\n                        <TableCell>Last Name</TableCell>\n                        <TableCell>Email</TableCell>\n                        <TableCell>Location</TableCell>\n                        <TableCell>Actions</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {users.map((user) => (\n                        <TableRow key={user.id}>\n                            <TableCell>{user.name.first}</TableCell>\n                            <TableCell>{user.name.last}</TableCell>\n                            <TableCell>{user.email}</TableCell>\n                            <TableCell>{address(user.location)}</TableCell>\n                            <TableCell>\n                                <IconButton onClick={() => handleEdit(user)}>\n                                    <Edit />\n                                </IconButton>\n                                <IconButton color=\"error\">\n                                    <Delete />\n                                </IconButton>\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n            <Modal open={modalOpen} onClose={() => setModalOpen(false)}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\"\n                sx={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                }}\n            >\n                <Fade in={modalOpen}>\n                    <Paper elevation={8} sx={{padding: '2em'}}>\n                        <UserEdit user={selectedUser!} />\n                    </Paper>\n                </Fade>\n            </Modal>\n        </>\n    )\n}\n"
        }
    ]
}